---
name: keytao-draft
description: é”®é“è¾“å…¥æ³•è‰ç¨¿æ‰¹æ¬¡ç®¡ç†å·¥å…·ã€‚æ·»åŠ è¯æ¡ã€æŸ¥çœ‹è‰ç¨¿åˆ—è¡¨ã€åˆ é™¤è‰ç¨¿æ¡ç›®ã€æäº¤å®¡æ ¸ã€‚å…³é”®è¯ï¼šæ·»åŠ ã€åˆ›å»ºã€åˆ é™¤ã€æŸ¥çœ‹ã€æ’¤é”€è¯æ¡ï¼Œæäº¤å®¡æ ¸ã€‚ä½¿ç”¨å‰éœ€æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»‘å®šè´¦å·ã€‚
---

# é”®é“è‰ç¨¿æ‰¹æ¬¡ç®¡ç†å·¥å…·

ç®¡ç†ç”¨æˆ·çš„é”®é“è¯æ¡è‰ç¨¿ï¼šæ·»åŠ ã€æŸ¥çœ‹ã€ç§»é™¤æ¡ç›®ï¼Œå¹¶åœ¨å°±ç»ªæ—¶æäº¤å®¡æ ¸ã€‚

## ä½¿ç”¨å‰æ

âš ï¸ ç”¨æˆ·å¿…é¡»å…ˆç»‘å®šè´¦å·ï¼ˆ`/bind`ï¼‰ï¼Œå¦åˆ™æ‰€æœ‰å·¥å…·è°ƒç”¨éƒ½ä¼šè¿”å› 404ã€‚

## å·¥å…·ä¸€è§ˆ

| å·¥å…· | ç”¨é€” |
|------|------|
| `keytao_create_phrase` | æ·»åŠ  / ä¿®æ”¹ / åˆ é™¤è¯æ¡ |
| `keytao_list_draft_items` | æŸ¥çœ‹è‰ç¨¿ä¸­æ‰€æœ‰å¾…å®¡æ¡ç›® |
| `keytao_remove_draft_item` | ä»è‰ç¨¿ä¸­ç§»é™¤æŒ‡å®šæ¡ç›® |
| `keytao_submit_batch` | æäº¤è‰ç¨¿æ‰¹æ¬¡è¿›è¡Œå®¡æ ¸ |

## å·¥å…·è¯¦è§£

### keytao_create_phrase

æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤å•ä¸ªè¯æ¡ã€‚

**AI æ— éœ€ä¼ é€’çš„å‚æ•°**ï¼ˆè‡ªåŠ¨æ³¨å…¥ï¼‰ï¼š`platform`ã€`platform_id`

**éœ€è¦ä¼ é€’çš„å‚æ•°ï¼š**
- `word` (str): è¯æ¡å†…å®¹
- `code` (str): é”®é“ç¼–ç ï¼ˆçº¯å­—æ¯ a-zï¼‰
- `action` (str, optional): `Create`ï¼ˆé»˜è®¤ï¼‰/ `Change` / `Delete`
- `old_word` (str, optional): Change æ“ä½œæ—¶çš„æ—§è¯æ¡
- `type` (str, optional): è¯æ¡ç±»å‹ï¼Œ**ä¸ä¼ åˆ™è‡ªåŠ¨æ¨æ–­**ï¼š
  - 1 ä¸ªæ±‰å­— â†’ `Single`ï¼›è‹±æ–‡å­—æ¯ â†’ `English`ï¼›é“¾æ¥ â†’ `Link`ï¼›ç¬¦å· â†’ `Symbol`ï¼›å…¶ä½™ â†’ `Phrase`
- `remark` (str, optional): å¤‡æ³¨
- `confirmed` (bool, optional): ç¡®è®¤è­¦å‘Šï¼Œé»˜è®¤ False

**è¿”å›å€¼ç¤ºä¾‹ï¼š**
```json
// æˆåŠŸ
{"success": true, "batchId": "uuid", "pullRequestCount": 1, "message": "..."}

// å†²çªï¼ˆä¸å¯ç»•è¿‡ï¼‰
{"success": false, "conflicts": [...], "message": "å­˜åœ¨å†²çª"}

// è­¦å‘Šï¼ˆå¯ç¡®è®¤ååˆ›å»ºï¼‰
{"success": false, "warnings": [...], "requiresConfirmation": true, "message": "å­˜åœ¨è­¦å‘Š"}
```

### keytao_list_draft_items

æŸ¥çœ‹ç”¨æˆ·å½“å‰è‰ç¨¿æ‰¹æ¬¡çš„å…¨éƒ¨æ¡ç›®ã€‚

**AI æ— éœ€ä¼ é€’ä»»ä½•å‚æ•°ã€‚**

**è¿”å›å€¼ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "batchId": "uuid",
  "count": 2,
  "items": [
    {"id": 42, "action": "Create", "word": "æµ‹è¯•", "code": "ushi", "type": "Phrase", "status": "Pending"},
    {"id": 43, "action": "Create", "word": "è‹¥", "code": "ruo", "type": "Single", "status": "Pending"}
  ]
}
```

### keytao_remove_draft_item

ä»è‰ç¨¿ä¸­åˆ é™¤æŒ‡å®šæ¡ç›®ã€‚**éœ€è¦å…ˆè°ƒç”¨ `keytao_list_draft_items` è·å–æ¡ç›® IDã€‚**

**éœ€è¦ä¼ é€’çš„å‚æ•°ï¼š**
- `pr_id` (int): æ¡ç›®çš„æ•°å­— IDï¼ˆæ¥è‡ª list è¿”å›çš„ `items[].id`ï¼‰

**AI æ— éœ€ä¼ é€’**ï¼š`platform`ã€`platform_id`ï¼ˆè‡ªåŠ¨æ³¨å…¥ï¼‰

### keytao_submit_batch

æäº¤è‰ç¨¿æ‰¹æ¬¡è¿›è¡Œç®¡ç†å‘˜å®¡æ ¸ã€‚**AI æ— éœ€ä¼ é€’ä»»ä½•å‚æ•°ã€‚**

## å…¸å‹åœºæ™¯

### æ·»åŠ è¯æ¡

```
ç”¨æˆ·ï¼šå¸®æˆ‘åŠ ä¸ªè¯ï¼šè‹¥ ruo
â†’ è°ƒç”¨ keytao_create_phrase(word="è‹¥", code="ruo")
â†’ type è‡ªåŠ¨æ¨æ–­ä¸º Singleï¼ˆå•å­—ï¼‰
```

### æŸ¥çœ‹è‰ç¨¿

```
ç”¨æˆ·ï¼šæˆ‘çš„è‰ç¨¿é‡Œæœ‰ä»€ä¹ˆ
â†’ è°ƒç”¨ keytao_list_draft_items()
â†’ å±•ç¤ºæ¡ç›®åˆ—è¡¨
```

### åˆ é™¤è‰ç¨¿æ¡ç›®

```
ç”¨æˆ·ï¼šæŠŠ"æµ‹è¯•"é‚£æ¡åˆ æ‰
â†’ è°ƒç”¨ keytao_list_draft_items() æ‰¾åˆ° "æµ‹è¯•" çš„ idï¼ˆå¦‚ 42ï¼‰
â†’ è°ƒç”¨ keytao_remove_draft_item(pr_id=42)
```

### æäº¤å®¡æ ¸

```
ç”¨æˆ·ï¼šæäº¤å§
â†’ è°ƒç”¨ keytao_submit_batch()
```

### é‡ç è­¦å‘Šå¤„ç†

å·¥å…·é¦–æ¬¡è¿”å› `requiresConfirmation: true` â†’ å‘ŠçŸ¥ç”¨æˆ·é‡ç æƒ…å†µã€è¯¢é—®æ˜¯å¦ç»§ç»­
ç”¨æˆ·ç¡®è®¤ â†’ Python å±‚è‡ªåŠ¨ä»¥ `confirmed=True` é‡æ–°è°ƒç”¨ï¼Œ**AI ä¸éœ€è¦æ‰‹åŠ¨å¤„ç†**ã€‚

## å›å¤æ ¼å¼

**æ·»åŠ æˆåŠŸï¼š**
```
âœ… è¯æ¡å·²åŠ å…¥è‰ç¨¿ï¼
è¯æ¡ï¼šè‹¥ | ç¼–ç ï¼šruo | ç±»å‹ï¼šå•å­—
è‰ç¨¿å…± 3 æ¡ï¼Œè¾“å…¥ã€Œæäº¤ã€å‘èµ·å®¡æ ¸ï¼Œæˆ–ç»§ç»­æ·»åŠ ã€‚
```

**è‰ç¨¿åˆ—è¡¨ï¼š**
```
ğŸ“‹ è‰ç¨¿æ‰¹æ¬¡ï¼ˆå…± 2 æ¡ï¼‰

1. [#42] Create "æµ‹è¯•" â†’ ushiï¼ˆè¯ç»„ï¼‰
2. [#43] Create "è‹¥" â†’ ruoï¼ˆå•å­—ï¼‰

å¯ä»¥ç»§ç»­æ·»åŠ ã€åˆ é™¤æ¡ç›®ï¼Œæˆ–è¾“å…¥ã€Œæäº¤ã€å‘èµ·å®¡æ ¸ã€‚
```

**åˆ é™¤æˆåŠŸï¼š**
```
ğŸ—‘ï¸ å·²åˆ é™¤ï¼šCreate "æµ‹è¯•"ï¼ˆç¼–ç ï¼šushiï¼‰
è‰ç¨¿å‰©ä½™ 1 æ¡ã€‚
```

**å†²çªï¼š**
```
âŒ æ·»åŠ å¤±è´¥
åŸå› ï¼šè¯æ¡ "æµ‹è¯•" ä¸ç¼–ç  "ushi" çš„ç»„åˆå·²å­˜åœ¨
```

**é‡ç è­¦å‘Šï¼š**
```
âš ï¸ é‡ç æç¤º
ç¼–ç  "ushi" å·²è¢« "æµ‹è¯•"ï¼ˆæƒé‡ 0ï¼‰å ç”¨ã€‚
æ·»åŠ  "è¯è¯•" åå°†åˆ›å»ºé‡ç ï¼Œä¸¤è€…éƒ½ä¼šå‡ºç°åœ¨å€™é€‰æ¡†ã€‚
ç¡®è®¤ç»§ç»­ï¼Ÿ
```

## æ³¨æ„äº‹é¡¹

1. åªèƒ½åˆ é™¤ **Draft** çŠ¶æ€æ‰¹æ¬¡ä¸­çš„æ¡ç›®ï¼Œå·²æäº¤çš„æ— æ³•æ’¤å›
2. `code` å¿…é¡»ä¸ºçº¯å°å†™å­—æ¯ï¼Œä¸å«ç©ºæ ¼
3. è‰ç¨¿æ‰¹æ¬¡æè¿°ä»¥ã€Œé”®é“åŠ©æ‰‹ã€å¼€å¤´ï¼Œä¸ç”¨æˆ·æ‰‹åŠ¨åˆ›å»ºçš„æ‰¹æ¬¡åŒºåˆ†
